<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@media</title>

    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/modern-normalize/2.0.0/modern-normalize.min.css"
    />
    <link rel="stylesheet" href="./style/style.css" />
  </head>

  <body class="body">
    <header class="header">
      <div class="container">
        <h2 class="title">Медиа запросы</h2>
        <p>
          Медиа запрос это то что делает возможным созданием современных
          адаптивных страниц, которые одинаково хорошо выглядят на любом экране
          юудь то desctop или смартфон. Все сводится к применению того или иного
          css правила, в зависимости от размера окна браузера(область просмотра,
          viewport), настроек браузера или возможностей устройства.
        </p>
        <ul>
          <b>Алгоритм применения стилей следующий</b>
          <li>
            Разработчик описывает набор медиа запросов и css правил внутри них
          </li>
          <li>Браузер отслеживает изменение размеров viewport</li>
          <li>
            Браузер применяет css правила из медиа запросов, подходящих под
            текущий размер вьюпорта
          </li>
        </ul>
        <p>
          То есть медиа запросы это инструкции вида "когда страницу открыли на
          десктопе я хочу чтобы цвет текста был красным, а при открытии на
          мобильном - зеленым"
        </p>
        <h2>Синтаксис</h2>
        <p class="bg">
          @media media-type and (media-future) { <br />
          набор css правил <br />
          }
        </p>
        <p>
          Медиа запрос это специальная css конструкция, объвляемая директивой
          @media за которой может следовать тип устройства (media-type) и медиа
          функции (media-future), выражения, проверяющие характиристики
          устройств (например ширину вьюпорта). Медиа функция это логическое
          выражение, которое возвращает истину(true) или ложь (falce)
          <br /><br />
          например если необходимо сделать фон на body оранжевым при ширине
          viewport 900px и шире, необходимо записать след медиа запрос
        </p>
        <p class="bg">
          <b>style.css</b> <br />
          @media screen and (min-width: 900px) { <br />
          body { <br />
          backgrond-color: orange; <br />
          } <br />
          }
        </p>
        <p>
          Человеческим языком это можно прочитать как "если страница
          отображается на экране, ширина которого не менее 900px, необходимо
          применить указаное css правило.
        </p>
        <p>
          Условные проверки может быть настолько сложным или простым насколько
          этого требует ситуация. В большистве случаев достаточно указать медиа
          тип устройства (чаще всего это screen) и проверить только ширину
          viewport
        </p>
        <p class="bg">
          @media print { <br />
          медиа запрос применяется во время печати документа <br />
          } <br /><br />
          @media screen and (min-width: 400px) { <br />
          Этот запрос применяется при ширине viewport более 400px <br />
          }
        </p>
        <h2 class="title">Media type</h2>
        <p>
          Медиа тип используется для описания типа устройств, на которых может
          отображаться веб страница. Всего есть 3 типа, которые поддерживаются
          всеми современными браузерами
        </p>
        <ul>
          <li>
            <b>all</b> - если не указать тип носителя по умолчанию будет
            использоваться это значение, которое означает любое устройство
          </li>
          <li>
            <b>print</b> - соответствует принтерам и устройствам, предназначеным
            для воспроизведения печатного варианта, например веб браузера,
            отображающего документ в режиме (предварительный просмотр)
          </li>
          <li>
            <b>screen</b> - описывает устройства с физическим экраном -
            смартфоны, планшеты, мониторы, телевизоры и т.д, т.е все что не
            охватывает print
          </li>
        </ul>
        <h2 class="title">Медиа функции</h2>
        <p>
          Две наиболее часто использующиеся медиа функции, которые позволяют
          определить ширину viewport браузера это min-width и max-width.
          Указывается минимальное (min-width) или максимальное(max-width)
          допустимые шарины viewport при которых применяются правила из медиа
          запросов
        </p>
        <p class="bg">
          Применяется когда ширина viewport более 900px <br />
          @media (min-width: 900px) { <br />
          body { <br />
          backgrond-color: orange; <br />
          } <br />
          } <br />
          Применяется когда ширина viewport меньше 600px <br />
          @media (max-width: 600px) { <br />
          body { <br />
          backgrond-color: blue; <br />
          } <br />
          } <br />
        </p>
        <h2 class="title">Логические операторы</h2>
        <p>
          Медиа тип и медиа функции могут быть разделены необязательными
          логическими операторами <b>not, end, only</b> - значения по умолчанию.
        </p>
        <p class="bg">
          @media only|not media-type only|not|and (media-future) { <br />
          набор css правил <br />
          }
        </p>
        <h2>Оператор end</h2>
        <p>
          Оператор and(и) используется не только между типом носителя и медиа
          условием но и для связывания нескольких медиа функций с проверками
          значений
        </p>
        <p class="bg">
          @media screen and (min-width: 400px) and (max-width: 800px) { <br />
          body { <br />
          backgrond-color: green; <br />
          } <br />
          }
        </p>
        <p>
          Такой медиа запрос выполнится только если веб страница открыта на
          экране, а ширина viewport от 400px до 800px
        </p>
        <h2>Оператор ","</h2>
        <p>
          Оператор "," (буквально "или") позволяет указать набор выражений при
          выполнении хотя бы одного из которых выполняется медиа запрос
        </p>
        <p class="bg">
          @media (max-width: 600px), (min-width: 900px) { <br />
          body { <br />
          backgrond-color: red; <br />
          } <br />
          }
        </p>
        <p>
          То есть это просто перечесление набора меди запросов при которых
          должны применятся стили. Это можно записать как 2 разных медиа
          запроса, но тогда стили body будут дублироваться
        </p>
        <p class="bg">
          @media (max-width: 600px) { <br />
          body { <br />
          backgrond-color: red; <br />
          } <br />
          @media (min-width: 900px) { <br />
          body { <br />
          backgrond-color: red; <br />
          } <br />
          }
        </p>
        <h2>Оператор not</h2>
        <p>
          Оператор not (буквально "не") позволяет сделать отрицание, т.е
          отменить медиа запрос. Ключевое слово not добавляется в начало медиа
          запроса и применяется ко всему медиа запросу целиком. Используется
          очень редко
        </p>
        <p class="bg">
          @media not print { <br />
          условие <br />
          }
        </p>
        <p>
          При использовании оператора not обязательно должен быть указан тип
          носителя, потому что по умолчалнию для него будет установлено значение
          all и выражение not all будет читаться как "не все" и медиа запрос не
          выполнится никогда
        </p>
        <p class="bg">
          @media not (max-width: 500px) { <br />
          никогда не выполнится <br />
          } <br /><br />
          @media not screen and (max-width: 500px) { <br />
          выполнится если ширина будет более 500px <br />
          } <br />
          <br />
          @media (min-width: 500px) { <br />
          в таком случае для простоты чтения когда лучше использовать min-width:
          500px br }
        </p>
        <h2 class="title">Переопределение стилей</h2>
        <p>
          Ничего не мешает браузеру применять более одного медиа запроса
          одновременно, если подходят по условию. Медиа запросы не добавляют
          специфичности к селекторам, которые они содержат, но порядок правил по
          прежнему имеет значение, т.е правила находятся в медиа запросах,
          учавствуют в стандартном каскадировании при составлении финальных
          стилей элементов.
        </p>
        <p class="bg">
          Базовый стиль <br />
          body { <br />
          backgrond-color: red; <br />
          } <br />
          При 900px и шире переопределяем фон <br />
          @media screen and (min-width: 900px) { <br />
          body { <br />
          backgrond-color: green; <br />
          } <br />
          }
        </p>
        <p>
          При этом переопределяются только одинаковые свойства, а не все правило
          целиком, не дублируются предидущие, которые подходят и для текущего
          медиа запроса
        </p>
        <h2 class="title">Мета тег viewport</h2>
        <p>
          Область просмотра(viewport) - это видимая прямоугольная область веб
          страницы.
        </p>
        <p>
          Мобильные браузеры отображают веб страницу во viewport который шире
          чем физический экран устройства. По умолчанию ширина viewport у
          мобильных браузеров зависит от производителя устройства, не совпадает
          с размером экрана устройства и чаще всего равна 980px. Это значит что
          мобильный браузер считает этой величиной относительно которой он
          должен применять медиа запрос <br /><br />
          Т.е медиа запросы ориентированы на моб устройства просто не
          применяются или будут переопределены в мобильном браузере. Например
          при открытии веб страницы на экране шириной 400px применяется медиа
          запрос min-width: 768px переопределив мобильные стили и мы увидим
          вариант страницы для планшета, хотя открыли на телефоне <br /><br />
          Страницы адаптированые для просмотра на разных устройствах должны
          содержать в разделе head мета тег viewport, он сообщает браузеру каким
          образом нужно контролировать размеры и масштаб viewport.
        </p>
        <p class="bg">
          &lt;head&gt; <br />
          &lt;!-- Другие мета-теги --&gt; <br />
          &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width,
          initial-scale=1.0&quot; /&gt; <br />
          &lt;title&gt;Мета-тег viewport важен для адаптивных
          страниц&lt;/title&gt; <br />
          &lt;/head&gt;
        </p>
        <ul>
          <li>
            width=device-width - устанавливает ширину viewport (width) равный
            физической ширине экрана устройства (device-width)
          </li>
          <li>
            initial-scale=1.0 - устанавливает соотношение масштабирования 1к1
            между css пикселями и аппаратными пикселями устройства
          </li>
        </ul>
        <img
          class="img"
          src="./images/photo_2024-02-12_16-22-13.jpg"
          width="600"
        />
        <h2 class="title">Типы верстки</h2>
        <p>
          В современном вебе используются новые подходы в создании сайтов, они
          сочетают в себе элементы резиновой верстки и новые, современные
          приемы, такие как адаптивность(adaptive) и отзывчивость(responsive).
          Техники адаптивной и отзывчивой верстки отличаются тем, как задается
          ширина контейнера и вложенных в него элементов
        </p>
        <p>
          <b>Отзывчивая(responsive) веб страница</b> имеет несколько вариантов
          отображения, переходы между ними плавные, элементы и контейнер тянутся
          как резиновые. При изменении viewport блоки плавно ужимаются или
          растягиваются как резиновые, а когда наступает точка перелома
          (брейкпоинт) имеет свое расположение так, чтобы оптимально занять все
          свободное пространство по горизонтали. <br /><br />
          <b>Адаптивная веб страница</b> имеет несколько вариантов изображения в
          отличии от отзывчивой страницы буквально. Дизайн изменяется рывками в
          жестко заданых точках перелома и не тянется между ними
        </p>
        <p class="information">
          При составлении медиа запросов нужно ориентироваться на точки перелома
          дизайна, т.е такие значения ширины viewport в которых дизайн
          существенно меняется. Определить их можно по макету, нарисованого
          дизайнером
        </p>
        <div class="contain responsive">
          <p>Отзывчивая верстка</p>
        </div>
        <div class="contain adaptive">
          <p>Адаптивна верстка</p>
        </div>
        <p>
          Обоим контейнерам задается min-width - ширина viewport ниже которой
          дизайн не поддерживается, у пользователя с более узким экраном
          появится полоска прокрутки
        </p>
        <p class="bg">
          .contain { <br />
          min-width: 320px; <br />
          }
        </p>
        <p>
          Отзывчивому контейнеру один раз задается свойство max-width в базовых
          стилях чтобы он произвольно тянулся но максимально был не шире
          указаного значения
        </p>
        <p class="bg">
          .contain .responsive { <br />
          max-width: 1140px; <br />
          }
        </p>
        <p>
          Адаптивному контейнеру задается начальное значение максимальной
          ширины, после чего она переопределяется в каждой точке перелома
        </p>
        <p class="bg">
          .contain.adaptive { <br />
          max-width: 320px; <br />
          } <br />
          <br />
          @media screen and (min-width:600px) { <br />
          .contain.adaptive { <br />
          max-width: 600px; <br />
          } <br />
          } <br />
          @media screen and (min-width:900px) { <br />
          .contain.adaptive { <br />
          max-width: 900px; <br />
          } <br />
          } <br />
          @media screen and (min-width:1140px) { <br />
          .contain.adaptive { <br />
          max-width: 1140px; <br />
          } <br />
          } <br />
          } <br />
        </p>
        <p>
          Какой переход использовать все зависит от дизайна, типа веб сайта и
          финансовых возможностей заказчика. Для большинства веб сайтов малого и
          среднего бизнеса достаточно адаптивной верстки. Отзывчивая верстка
          дороже в дизайне, проэктировании и разработке т.к делать ее сложнее и
          дольше, но она незаменима в интерфейсах современных браузеров и веб
          приложений. Иногда бизнес задачи лучше выполнить отдельно в мобильной
          версии или вообще нативное приложение вместо веб сайта
        </p>
        <h2 class="title">Mobile-first</h2>
        <p>
          Исторически сложилось так, что дизайнеры начали разработку дизайна
          сайта для большого экрана, т.е первый гланый дизайн делался для
          рабочего стола компьютера, т.к предполагает большую функциональность
          <br /><br />
          Проблема такого подхода в том, что приоритет отдается пользователям
          компьютеров и ноутов, хотя сейчас по статистике доминирует мобильный
          траффик. Многие элементы дизайна и функционала, котрые отлично
          смотрятся и работают на рабочем столе компьютера довольно сложно
          перенести на моб экран. <br /><br />
          Стратегия mobile-first идет от обратного - сначала делается мобильная
          версия, после чего планшетная и десктопная. Это делает актуальную
          информацию легко доступной и позволяет скрыть или изменить элементы на
          любом экране
        </p>
        <p>
          Веб сайт должен быть хорошо оптимизирован для поисковых систем CEO и
          отвечать всем требованиям UX(user expiriens) чтобы прибывание
          пользователей на сайте было максимально удобным и понятным через его
          моб устройство. Поэтому одним из самых важных требований mobile-first
          разработки это:
        </p>
        <ul>
          <li>Показать самое важное содержание в первую очередь</li>
          <li>
            Веб сайт должен быть легковесным и оптимизированым т.к сорость моб
            сети может быть слабой в зависимости от местоположения пользователя
          </li>
          <li>
            Веб сайт не должен загружать больше ресурсов чем требуется
            пользователю для получения нужной информации
          </li>
          <li>
            Доп информация должна грузиться только по требованию пользователя
          </li>
        </ul>
        <p>При разработке веб сайта у такого подхода большие приимущества</p>
        <ul>
          <li>
            <b>Один веб сайт</b> - для всех устройств только один проэкт.
            Сокращает необходимое кол-во разработчиков
          </li>
          <li>
            <b>Удобство интерфейса</b> - пользователи получают важное содержимое
            страницы в первую очередь
          </li>
          <li>
            <b>Скорость загрузки</b> - страница будет грузится быстрее на моб
            устройствах из-за того, что кол-во загружаемых и отображаемых
            ресурсов будет меньше
          </li>
          <li>
            <b>Рейтинг в поиске</b> - например в гугл не только отдается
            приоритет сайтам, оптимизированым для моб устройств но и учитывает
            время открытия страницы
          </li>
        </ul>
        <h2 class="title">Mobile-first css</h2>
        <p>
          Технически реализация mobile-first довольно проста - стили для моб
          устройств это базовые стили вне медиа запросов, после чего для каждой
          точки перелома добавляется медиа запрос, в котором переопределяются
          необходимые базовые стили из промежутка или добавляются новые. Поэтому
          в медиа запросах в основном используется функция min-width
        </p>
        <p class="bg">
          .element { <br />
          базовые стили <br />
          } <br />
          @media screen and (min-width: ширина планшета) { <br />
          .element { <br />
          стили планшета <br />
          } <br />
          } <br />
          @media screen and (min-width: ширина десктопа) { <br />
          .element { <br />
          стили десктопа <br />
          } <br />
          } <br />
        </p>
        <p>
          То есть создается легковесная версия стилей для моб устройств, а все
          стили для больших экранов закрываются внутри соответствующих медиа
          запросах, при этом HTML разметка не меняется <br /><br />
          Плюс такого подхода в том, что для моб стилей практически никогда не
          нужно залавать позиционирование, например при помощи flex-box, поэтому
          весь контент идет в одну колонку друг за другом - дефолтное поведение
          блочных элементов в стандартном потоке документов. Это значит что в
          медиа запросах для более широких экранов не прийдется переопределять
          позиционирование <br /><br />
          Рассмотрим медиа запрос для простой страницы с двумя точками перелома
          768px и 1024px. css правило внутри медиа запрома просто добавляет
          новые стили или переопределяет предидущие
        </p>
        <img src="./images/photo_2024-02-15_14-18-34.jpg" alt="" class="img" />
        <p>Плюсы такой верстки:</p>
        <ul>
          <li>
            Базовые стили css кода более чистые т.к нам помогает поток
            документов и блочная модель элементов интерфейса
          </li>
          <li>Наследование стилей от узких к широким экранам</li>
          <li>Минимальное переопределение стилей позиционирования</li>
        </ul>
        <h2 class="title">Медиа функция max-width</h2>
        <p>
          Для большинства стилей достаточно использовать min-width и добавлять
          либо переопределять стили. Тем не менее бывают ситуации когда
          используется медиа функция max-width делает код чище и читабельнее
          <br /><br />
          Представим такую ситацию. В последнем примере необходимо добавить
          нужный отступ снизу только на моб устройстве, т.е до 767px(с 768
          начинаются стили планшета). Для планшетного промежутка от 768 до
          1023px необходимо чтобы у элементов появилась рамка <br /><br />
          Использование такое min-width приведет к тому что в стилях медиа
          запросов min-width: 768px прийдется обнулять нижний отступ элементов.
          А в стилях медиа запросов min-width: 1024px будем обнулять стили рамки
        </p>
        <p class="bg">
          @media (max-width: 767px) { <br />
          .box {<br />
          margin-bottom: 10px;<br />
          }<br />
          }<br />
          @media (min-width: 768px) and (max-width: 1023px) {<br />
          .box {<br />
          border: 1px solid black;<br />
          }<br />
          }<br />
        </p>
        <p>
          В таких ситуациях хорошая практика будет закрыть специфичные стили в
          определенных промежутках и поможет нам в этом медиа функция max-width
        </p>
        <img src="./images/3.jpg" alt="" class="img" />
      </div>
    </header>
    <script src="./js/script.js"></script>
  </body>
</html>
